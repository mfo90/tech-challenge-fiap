<div class="container mt-5">
  <h1>Adicionar Contato</h1>
  <form (ngSubmit)="confirmAddContact()">
    <div class="form-group">
      <label for="name">Nome</label>
      <input type="text" class="form-control" id="name" [(ngModel)]="contact.name" name="name" required>
    </div>
    <div class="form-group">
      <label for="phone">Telefone</label>
      <input type="text" class="form-control" id="phone" [(ngModel)]="contact.phone" name="phone" required>
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" class="form-control" id="email" [(ngModel)]="contact.email" name="email" required>
    </div>
    <div class="form-group">
      <label for="ddd">DDD</label>
      <select class="form-control" id="ddd" [(ngModel)]="contact.ddd" name="ddd" required>
        <option *ngFor="let region of regions" [value]="region.ddd">{{ region.ddd }} - {{ region.name }}</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary mt-3">Adicionar Contato</button>
  </form>
  
  <div *ngIf="errorMessage" class="alert alert-danger mt-3">
    {{ errorMessage }}
  </div>
  <div *ngIf="successMessage" class="alert alert-success mt-3">
    {{ successMessage }}
  </div>

  <!-- Modal -->
  <div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="confirmModalLabel">Confirmar Adição de Contato</h5>
          <button type="button" class="btn-close" aria-label="Close" (click)="closeModal()"></button>
        </div>
        <div class="modal-body">
          <p>Tem certeza de que deseja adicionar este contato?</p>
          <ul>
            <li><strong>Nome:</strong> {{ contactToConfirm?.name }}</li>
            <li><strong>Telefone:</strong> {{ contactToConfirm?.phone }}</li>
            <li><strong>Email:</strong> {{ contactToConfirm?.email }}</li>
            <li><strong>DDD:</strong> {{ contactToConfirm?.ddd }}</li>
          </ul>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" (click)="closeModal()">Cancelar</button>
          <button type="button" class="btn btn-primary" (click)="addContact()">Confirmar</button>
        </div>
      </div>
    </div>
  </div>
</div>
